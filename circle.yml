# Manually install to avoid install conflicts
# cf. https://github.com/jaspervdj/hakyll/issues/340#issuecomment-96101869
dependencies:
  override:
    - cabal update
    - cabal install cabal-install
    - cabal install --dependencies-only --avoid-reinstalls

machine:
  ghc:
    version: 7.10.2

general:
  branches:
    only:
      - source

deployment:
  production:
    branch: master
    commands:
      - git config --global user.email "tim@timbaumann.info"
      - git config --global user.name "CircleCI"
      - "./deploy.sh https://github.com/timjb/timjb.github.com.git"